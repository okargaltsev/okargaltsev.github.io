



<!DOCTYPE html>
<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>dreams</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.3.1.min.js" integrity="sha384-YF85VygJKMVnHE+lLv2AM93Vbstr0yo2TbIu5v8se5Rq3UQAUmcuh4aaJwNlpKwa" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.1.min.js" integrity="sha384-KKuas3gevv3PvrlkyCMzffFeaMq5we/a2QsP5AUoS3mJ0jmaCL7jirFJN3GoE/lM" crossorigin="anonymous"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="9360c36e-3e96-4070-a21b-ce098e681650" data-root-id="1566"></div>
            
          
        
      
      
        <script type="application/json" id="1805">
          {"d3c25175-bca3-4974-9ac5-ecfb447e1a3e":{"defs":[],"roots":{"references":[{"attributes":{"children":[{"id":"1565"}]},"id":"1566","type":"Column"},{"attributes":{"button_type":"primary","icon":null,"js_event_callbacks":{"button_click":[{"id":"1555"}]},"label":"+","width":100},"id":"1556","type":"Button"},{"attributes":{"color_mapper":{"id":"1546"},"dh":{"value":25},"dw":{"value":25},"image":{"field":"image"},"x":{"value":0},"y":{"value":0}},"id":"1548","type":"Image"},{"attributes":{"color_mapper":{"id":"1546"},"dh":{"value":25},"dw":{"value":25},"global_alpha":0.1,"image":{"field":"image"},"x":{"value":0},"y":{"value":0}},"id":"1550","type":"Image"},{"attributes":{"args":{"source":{"id":"1543"},"stek_redo":{"id":"1545"},"stek_undo":{"id":"1544"},"sz":25},"code":"\n\nfunction Ziggurat() {\n  var jsr = 123456789;\n\n  var wn = Array(128);\n  var fn = Array(128);\n  var kn = Array(128);\n\n  function RNOR(){\n    var hz = SHR3();\n    var iz = hz &amp; 127;\n    return (Math.abs(hz) &lt; kn[iz]) ? hz * wn[iz] : nfix(hz, iz);\n  }\n\n  this.nextGaussian = function(){\n    return RNOR();\n  }\n\n  function nfix(hz, iz){\n    var r = 3.442619855899;\n    var r1 = 1.0 / r;\n    var x;\n    var y;\n    while(true){\n      x = hz * wn[iz];\n      if( iz == 0 ){\n        x = (-Math.log(UNI()) * r1); \n        y = -Math.log(UNI());\n        while( y + y &lt; x * x){\n          x = (-Math.log(UNI()) * r1); \n          y = -Math.log(UNI());\n        }\n        return ( hz &gt; 0 ) ? r+x : -r-x;\n      }\n\n      if( fn[iz] + UNI() * (fn[iz-1] - fn[iz]) &lt; Math.exp(-0.5 * x * x) ){\n          return x;\n      }\n      hz = SHR3();\n      iz = hz &amp; 127;\n\n      if( Math.abs(hz) &lt; kn[iz]){\n        return (hz * wn[iz]);\n      }\n    }\n  }\n\n  function SHR3(){\n    var jz = jsr;\n    var jzr = jsr;\n    jzr ^= (jzr &lt;&lt; 13);\n    jzr ^= (jzr &gt;&gt;&gt; 17);\n    jzr ^= (jzr &lt;&lt; 5);\n    jsr = jzr;\n    return (jz+jzr) | 0;\n  }\n\n  function UNI(){\n    return 0.5 * (1 + SHR3() / -Math.pow(2,31));\n  }\n\n  function zigset(){\n    // seed generator based on current time\n    jsr ^= new Date().getTime();\n\n    var m1 = 2147483648.0;\n    var dn = 3.442619855899;\n    var tn = dn;\n    var vn = 9.91256303526217e-3;\n    \n    var q = vn / Math.exp(-0.5 * dn * dn);\n    kn[0] = Math.floor((dn/q)*m1);\n    kn[1] = 0;\n\n    wn[0] = q / m1;\n    wn[127] = dn / m1;\n\n    fn[0] = 1.0;\n    fn[127] = Math.exp(-0.5 * dn * dn);\n\n    for(var i = 126; i &gt;= 1; i--){\n      dn = Math.sqrt(-2.0 * Math.log( vn / dn + Math.exp( -0.5 * dn * dn)));\n      kn[i+1] = Math.floor((dn/tn)*m1);\n      tn = dn;\n      fn[i] = Math.exp(-0.5 * dn * dn);\n      wn[i] = dn / m1;\n    }\n  }\n  zigset();\n};\n\n \n    \n    var arr = source.data.image[0]\n    \n    stek_undo.data.undo.push(arr)\n    stek_redo.data.redo = []\n    \n    //console.log(stek_undo.data.undo.length)\n    \n    var n = arr.length\n    \n    var arr_new = JSON.parse(JSON.stringify(arr));\n    \n    var j0 = Math.floor(cb_obj.x / sz * n)\n    var i0 = Math.floor(cb_obj.y / sz * n)\n    \n    var v0 = arr[i0][j0]    \n    var zig = new Ziggurat()\n    \n    for (var i=i0-1; i&lt;=i0+1; i++) {\n        if (i&lt;0 || i&gt;=n) continue\n        for (var j=j0-1; j&lt;=j0+1; j++) {\n            if (j&lt;0 || j&gt;=n) continue\n            \n            arr_new[i][j] = zig.nextGaussian() * 0.25 + v0 \n        }\n    }  \n    \n    source.data.image[0] = arr_new\n        \n    source.change.emit()  \n    \n"},"id":"1554","type":"CustomJS"},{"attributes":{},"id":"1595","type":"Title"},{"attributes":{},"id":"1601","type":"BasicTickFormatter"},{"attributes":{"below":[{"id":"1533"}],"center":[{"id":"1536"},{"id":"1540"}],"height":800,"js_event_callbacks":{"tap":[{"id":"1554"}]},"left":[{"id":"1537"}],"renderers":[{"id":"1552"}],"title":{"id":"1595"},"toolbar":{"id":"1541"},"width":800,"x_range":{"id":"1525"},"x_scale":{"id":"1529"},"y_range":{"id":"1527"},"y_scale":{"id":"1531"}},"id":"1524","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1602","type":"AllLabels"},{"attributes":{"range_padding":0},"id":"1525","type":"DataRange1d"},{"attributes":{"data_source":{"id":"1543"},"glyph":{"id":"1548"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1550"},"view":{"id":"1553"}},"id":"1552","type":"GlyphRenderer"},{"attributes":{"data":{"image":[[[0.3725593981321801,0.6338546437730752,0.14951810010333388,0.02489590711601619,0.3338462395163466,0.5962351348870668,0.887411724792816,0.5017531838696787,0.3842305427263224,0.049903657869677764,0.8432711344621445,0.9430961517932142,0.0929289766171646,0.7008242654717062,0.47052014345151727,0.0004990145988617023,0.8694435771384079,0.7100247192755446,0.6614759782576267,0.8677551068128182,0.9110788184685555,0.24328695431383673,0.31850322314639046,0.16267590946490595,0.6066750320537077],[0.11677206064344581,0.9658674683387126,0.21916938538171393,0.8790118504075167,0.7540335161825741,0.8980912422215945,0.34587873297900384,0.3605005916562486,0.9891928368435023,0.9690083412394216,0.3994735835822911,0.24872552573629114,0.8822270940494971,0.21290697161079908,0.9197334686597471,0.06303218065264182,0.6790563551270431,0.7525313049932952,0.17488846324784768,0.36348518741531144,0.06115410032348456,0.4640229828185194,0.31676328107588936,0.4598087784724507,0.1591285334971998],[0.04439699362047167,0.03600962877527458,0.6351638082282144,0.7664520133563164,0.886274075904012,0.12551516736701762,0.48728047549258524,0.9998664283828714,0.7203380104223043,0.794975929796386,0.7342445695732515,0.8986275038161778,0.19173527924845724,0.9126670181758115,0.3007961728246308,0.5484752496957565,0.9839085811809135,0.984996863331331,0.033362739256744156,0.9859865602687694,0.553143922888597,0.8846583496986824,0.1400071218681297,0.21134780565643796,0.6751315341547905],[0.8454832683302874,0.11277201502810619,0.7871165370152539,0.8029878063076393,0.27443445085994556,0.05131096994850204,0.2938937707450183,0.5449393861672078,0.3751168785898168,0.1048965984376945,0.5725792771902505,0.15841298158970007,0.6651571663833268,0.14846234879978126,0.3150494090146748,0.4040849429589407,0.5064361129452931,0.5331365119680636,0.11402555747632181,0.08190058433369896,0.8133450238302109,0.7284113708080091,0.7116653872707118,0.9473327538604149,0.670155356653217],[0.5386088343344099,0.3671835538262559,0.6922580356486776,0.8386594422658765,0.9558174632456936,0.4000988387720885,0.18427422118145276,0.3455335201649772,0.07593836407307153,0.20890216650920457,0.3809836683807589,0.12778412099298886,0.5594192905246248,0.7194655792178796,0.4048046171989498,0.7572169696619528,0.19806930590674787,0.6837857819611426,0.8318380608498511,0.013087882203961954,0.624831810702727,0.7727115746664948,0.03175736966239939,0.7036263870013632,0.6989147362690742],[0.7446321421064743,0.26032536447775234,0.876439764933918,0.8738188389832187,0.9301197040682526,0.1343393319780457,0.3290910024455329,0.41994313556654317,0.9921864335650573,0.2979720353103308,0.686812725463469,0.6991022664937647,0.20957524365610591,0.36976523013937534,0.8291445156406845,0.45654284317906213,0.6904169070847457,0.333942416558498,0.7778009407651093,0.31242464042926044,0.4852914356892931,0.8377994011084106,0.853497894187652,0.06436782903444849,0.0823890440287467],[0.10551408515810135,0.6280917238702568,0.49642819036148333,0.33924636182403867,0.8984948442396355,0.4571155898522169,0.2692202849529547,0.658382119192886,0.4036764307352084,0.5202669330074643,0.7920728305594963,0.40167985670918505,0.4297978249558754,0.4694757969679276,0.8301889700140027,0.0845898897484757,0.4419457171413592,0.2127328487378719,0.6178952957112256,0.182974946912298,0.2801982228660387,0.3552800588284243,0.7653997221673198,0.9484135552113734,0.5995986928964762],[0.7527664226596988,0.9612895267588244,0.6454539143687957,0.3147869585980205,0.06898887930178699,0.7112238295900012,0.5601334770293802,0.41814693653499835,0.08644531142587575,0.7751574481191762,0.5911943915625458,0.04719823130273104,0.5424469187396347,0.3445039442386981,0.9900430901986961,0.1336610392347619,0.156970521801304,0.868764215400797,0.38323929989582217,0.5767884111593623,0.05480687966827513,0.5465589054352058,0.78890747244481,0.42374557525287027,0.6992724267003344],[0.6903926038816331,0.8317483734876586,0.2866673212570361,0.560520338857511,0.31290917453416933,0.5614938226179426,0.18303613161282406,0.16549079058000105,0.5100843302819453,0.9209454986999462,0.7604323059203159,0.2829031286256777,0.8970662760577314,0.16861247822455938,0.3125726471415904,0.6036488977240267,0.949619898001874,0.16528149149689653,0.47697807915928014,0.5785138722461485,0.8804235713702842,0.901126659579317,0.4548558352361658,0.044767490661777654,0.5060579521600709],[0.4281867108489785,0.799819711532088,0.013814900200929459,0.8260551906250092,0.3130515717311195,0.647763758860122,0.7588926151122977,0.39787427223198524,0.08674054119465158,0.2165307464619063,0.9316189411561984,0.7318361338772332,0.4442801695870596,0.06734323875146364,0.8238294348744492,0.7348961422674545,0.7079548164071818,0.10079819758902042,0.9568056126683109,0.9625068312995807,0.0118602962851041,0.9271464305137446,0.44662596477782424,0.7733531207277878,0.8515931496419592],[0.013229330638751091,0.8412165392300575,0.021692885305924836,0.20789699619873891,0.4949354726245977,0.8411936312223532,0.8331876915118563,0.6590314941597084,0.3640551969543807,0.9169238040343952,0.20150030468543878,0.7669742043579437,0.04903414446087251,0.8019694612738532,0.15035524251553056,0.23293794687957792,0.006677650181400208,0.547130137857304,0.5258078966863854,0.5342043251516897,0.8340439537692134,0.4043438879380258,0.6105817673412237,0.39578508055145833,0.5229710016342971],[0.6051430141410414,0.3933291351689221,0.1339683266589149,0.4288616308162285,0.8542495059413171,0.4064944997233402,0.6451529390040691,0.9513425858704738,0.4347214038163638,0.9676033508631268,0.8296803587653511,0.13090590324495366,0.9731370567674847,0.1894471027963588,0.18877098640062628,0.2495624699154807,0.08677962521232219,0.9959976095619926,0.674736990948832,0.8861843482615646,0.22036531438174312,0.4769227666600413,0.24956282327462564,0.43848017208289447,0.1888540148494845],[0.8476864423357316,0.49836999275338545,0.018546177960962806,0.729786110104304,0.6727851476397771,0.518867322941773,0.3760748958824547,0.7027742343908859,0.21947501741832232,0.38409144052440536,0.3645396963908121,0.9350960143966246,0.530343355175846,0.15514637171169288,0.5220355946252039,0.2591647335206996,0.8288776432795598,0.6051780066176797,0.5124585219461999,0.7366206188330593,0.08650979929906688,0.35955910788484935,0.5680762636734553,0.6938618953964089,0.9179018204710925],[0.02527025746158118,0.6263534975170839,0.7324990870075374,0.518963791328005,0.15798181485936025,0.6366112294443833,0.0008893267455325482,0.29760478946021884,0.1635026424374456,0.6931709472574509,0.19369622687246513,0.6004583214201863,0.5222059918174222,0.36967410771635256,0.7869677668809489,0.8737260730880342,0.5662448730045849,0.37773735641601924,0.01091661963702284,0.9900934905909887,0.8201950550103864,0.6978953838087316,0.4295227579111264,0.689121210347312,0.010724789511363353],[0.026381445510646695,0.6665888843332631,0.59049368736113,0.5762702393055863,0.22207345430639858,0.6584518310240505,0.6193255572513691,0.17464790788039875,0.5688361486242415,0.7700769200556962,0.8887230741418178,0.7141573517941159,0.5421044537788853,0.5347238853360324,0.027425441524481453,0.9315625548867482,0.43641677805963663,0.8647506723375551,0.7775896777635837,0.5601449117238047,0.39488827069018617,0.7907355191075095,0.0251130279428442,0.46547658279091386,0.7209097498940233],[0.9623752939120873,0.2825989244573438,0.8250316146515027,0.33085949073807197,0.5315249253634459,0.14668978650510023,0.8068532502706043,0.3257128304529725,0.42186671696272815,0.5139695039224247,0.14374862913363495,0.12758846588444783,0.45949325318991185,0.4316342649371405,0.7642438086005023,0.8090830169614484,0.9287093230657716,0.5148573793120285,0.7363842592478893,0.34483386192388477,0.5301736360815171,0.7501124984067253,0.49200601554081413,0.5670207967437602,0.42336965406737614],[0.4403677923658902,0.40484524629573393,0.9488192804897703,0.6419323116769802,0.513885455609317,0.750603812840407,0.15173096184257429,0.019297194687661556,0.4309858779310809,0.4142411369448904,0.8541155546289795,0.022424236480652504,0.8972984056277341,0.3013950994604697,0.27106135413028487,0.04668023099294549,0.662335528828023,0.9292821843454684,0.3099148369338849,0.5379056770523032,0.07462266680536123,0.7726343579836394,0.36655065353639527,0.6780373427457367,0.2535115594685574],[0.09797641421218128,0.7201779569676519,0.9429837592717886,0.17869007845512275,0.09866638063729893,0.4945975477395351,0.5340805352706791,0.31636067726544304,0.723344938449348,0.3053495045751692,0.5266027774185857,0.7688359743121289,0.48871611837543716,0.49784225337097443,0.8004637795759202,0.43564142837964104,0.3882372943392346,0.26437084325932314,0.14242858054668872,0.15169771622162487,0.7528223272937521,0.8146726166778541,0.4039966277858811,0.23029552279087784,0.8026359414404577],[0.5054277149036275,0.03138644098497689,0.387161622777097,0.7183740857537615,0.5382146754610813,0.3449146813379875,0.027796506694395706,0.2186013986232358,0.3876417833710307,0.4298791096779677,0.9674426295761177,0.25768173419923956,0.6571909498244779,0.9060783386296818,0.9823053768001277,0.1986667330685361,0.5974127121039858,0.8765507864855704,0.5650324237057162,0.8529141859975468,0.8802462653631914,0.891235282917528,0.3364404702314463,0.22405792924173906,0.7935309794735468],[0.10036334816528214,0.025035791277872588,0.9858020897415644,0.13818426632376513,0.13092821207073646,0.12841886504456812,0.8582863633031544,0.4778978237093955,0.5548434407035051,0.8669091338143075,0.4867381876882342,0.3929955207448952,0.5218246448335276,0.07297772227740096,0.823765374001444,0.6083591362461716,0.9985956687988069,0.8235673753660215,0.4922093948053743,0.7539794580525572,0.3132174859032809,0.9064966997758152,0.4376322294534243,0.9854878420005662,0.6161500796290186],[0.03111148234708372,0.7860222155846334,0.844178220736461,0.6794067973129575,0.6580450963308642,0.02402863097985486,0.30531521685757934,0.3764401054631308,0.9628324304180532,0.5336819633993154,0.7285306947459034,0.12034663941984514,0.18052642122641238,0.47629276676035326,0.07668412809634129,0.7612504518826441,0.9940144199279451,0.49851880959558004,0.7154674081742262,0.5593749229790667,0.6572229564651918,0.04669880478475119,0.30964968043026353,0.8755942793954054,0.9355847630689749],[0.6732560170972682,0.2609401451579797,0.6742644084176055,0.7098537267973488,0.9494164606201623,0.23950741565618427,0.3277480173337758,0.34311481475544503,0.6886799442227478,0.27328380059250557,0.01159023995407038,0.6165029584675866,0.6374613493959611,0.9420954612461178,0.4933526215055797,0.5005499678468421,0.3475699680117098,0.2835690376296992,0.47080090729522917,0.3955043600373602,0.24652723611726246,0.9309012058974776,0.5247411562804355,0.4488841755675639,0.8728822815693339],[0.8762762356231788,0.5865796761928154,0.3989665019155566,0.9332672989059324,0.9873742170697991,0.03730981896882257,0.20711906662260282,0.648358775369073,0.7505059599569766,0.7594401655346823,0.029633910664716545,0.11025574065872301,0.6849714001422873,0.30178903320038697,0.8473390980906571,0.5713652819740848,0.2545562720817456,0.3736173884663322,0.5878541629029138,0.8830127425119972,0.8361916985767804,0.6110583105591333,0.13045051821522435,0.1318263849246013,0.4289908994119246],[0.363461193856204,0.826128905184992,0.7098258767377593,0.5322628858051588,0.22102166631473252,0.3933960653124726,0.8605014679111624,0.062277238824487324,0.7159191412989935,0.6291403721987657,0.21762236081877295,0.15773866634664035,0.5471864075309846,0.9485133789177083,0.22824880787049673,0.7761287988244712,0.0708972061093961,0.8679791101737471,0.828857451483312,0.673646632593092,0.1644644948344668,0.05197529362004716,0.11287260364128171,0.528922511746499,0.7112898587583288],[0.06634859857406872,0.2899426715354311,0.309060540333853,0.6845309147107018,0.10397792991868005,0.5735693373569419,0.7196863727534011,0.7413019492089677,0.10410556827158324,0.6538504780915005,0.09984297196786573,0.10570827034118846,0.515343096560794,0.890931018648493,0.9672544362657337,0.1610598870573534,0.05651362920214553,0.5998232991815888,0.05291784185779591,0.3392062006500217,0.27615666475039324,0.005182119938829666,0.08304080568490402,0.4289688335324795,0.8290392439403891]]]},"selected":{"id":"1603"},"selection_policy":{"id":"1604"}},"id":"1543","type":"ColumnDataSource"},{"attributes":{"args":{"source":{"id":"1543"},"stek_redo":{"id":"1545"},"stek_undo":{"id":"1544"}},"code":"\n\n    var arr = source.data.image[0]\n    \n    stek_undo.data.undo.push(arr)\n    stek_redo.data.redo = []\n    \n    //console.log(stek_undo.data.undo.length)\n\n    var n = arr.length\n\n    var arr_new = new Array(n+1)\n    for (var i = 0; i &lt; arr_new.length; i++) \n      arr_new[i] = new Array(n+1)\n\n    arr_new[0][0] = arr[0][0]\n    arr_new[0][n] = arr[0][n-1]\n    arr_new[n][0] = arr[n-1][0]\n    arr_new[n][n] = arr[n-1][n-1]\n\n    for (var j=1; j&lt;n; j++) {\n        arr_new[0][j] = (j * arr[0][j-1] + (n-j) * arr[0][j]) / n\n        arr_new[n][j] = (j * arr[n-1][j-1] + (n-j) * arr[n-1][j]) / n\n    }  \n\n    for (var i=1; i&lt;n; i++) {\n        arr_new[i][0] = (i * arr[i-1][0] + (n-i) * arr[i][0]) / n\n        arr_new[i][n] = (i * arr[i-1][n-1] + (n-i) * arr[i][n-1]) / n\n    }  \n\n    for (var i=1; i&lt;n; i++) \n        for (var j=1; j&lt;n; j++) {\n\n            var center = arr[i][j]        \n            var up = arr[i-1][j]        \n            var left = arr[i][j-1]        \n            var diag = arr[i-1][j-1]\n\n            arr_new[i][j] = (i * j * diag + i * (n-j) * up + (n-i) * j * left + (n-i) * (n-j) * center) / (n*n)\n        }\n\n    source.data.image[0] = arr_new\n\n    source.change.emit()  \n\n"},"id":"1555","type":"CustomJS"},{"attributes":{"source":{"id":"1543"}},"id":"1553","type":"CDSView"},{"attributes":{"formatter":{"id":"1598"},"major_label_policy":{"id":"1599"},"ticker":{"id":"1538"},"visible":false},"id":"1537","type":"LinearAxis"},{"attributes":{"high":1,"low":0,"palette":["#000000","#010101","#020202","#030303","#040404","#050505","#060606","#070707","#080808","#090909","#0a0a0a","#0b0b0b","#0c0c0c","#0d0d0d","#0e0e0e","#0f0f0f","#101010","#111111","#121212","#131313","#141414","#151515","#161616","#171717","#181818","#191919","#1a1a1a","#1b1b1b","#1c1c1c","#1d1d1d","#1e1e1e","#1f1f1f","#202020","#212121","#222222","#232323","#242424","#252525","#262626","#272727","#282828","#292929","#2a2a2a","#2b2b2b","#2c2c2c","#2d2d2d","#2e2e2e","#2f2f2f","#303030","#313131","#323232","#333333","#343434","#353535","#363636","#373737","#383838","#393939","#3a3a3a","#3b3b3b","#3c3c3c","#3d3d3d","#3e3e3e","#3f3f3f","#404040","#414141","#424242","#434343","#444444","#454545","#464646","#474747","#484848","#494949","#4a4a4a","#4b4b4b","#4c4c4c","#4d4d4d","#4e4e4e","#4f4f4f","#505050","#515151","#525252","#535353","#545454","#555555","#565656","#575757","#585858","#595959","#5a5a5a","#5b5b5b","#5c5c5c","#5d5d5d","#5e5e5e","#5f5f5f","#606060","#616161","#626262","#636363","#646464","#656565","#666666","#676767","#686868","#696969","#6a6a6a","#6b6b6b","#6c6c6c","#6d6d6d","#6e6e6e","#6f6f6f","#707070","#717171","#727272","#737373","#747474","#757575","#767676","#777777","#787878","#797979","#7a7a7a","#7b7b7b","#7c7c7c","#7d7d7d","#7e7e7e","#7f7f7f","#808080","#818181","#828282","#838383","#848484","#858585","#868686","#878787","#888888","#898989","#8a8a8a","#8b8b8b","#8c8c8c","#8d8d8d","#8e8e8e","#8f8f8f","#909090","#919191","#929292","#939393","#949494","#959595","#969696","#979797","#989898","#999999","#9a9a9a","#9b9b9b","#9c9c9c","#9d9d9d","#9e9e9e","#9f9f9f","#a0a0a0","#a1a1a1","#a2a2a2","#a3a3a3","#a4a4a4","#a5a5a5","#a6a6a6","#a7a7a7","#a8a8a8","#a9a9a9","#aaaaaa","#ababab","#acacac","#adadad","#aeaeae","#afafaf","#b0b0b0","#b1b1b1","#b2b2b2","#b3b3b3","#b4b4b4","#b5b5b5","#b6b6b6","#b7b7b7","#b8b8b8","#b9b9b9","#bababa","#bbbbbb","#bcbcbc","#bdbdbd","#bebebe","#bfbfbf","#c0c0c0","#c1c1c1","#c2c2c2","#c3c3c3","#c4c4c4","#c5c5c5","#c6c6c6","#c7c7c7","#c8c8c8","#c9c9c9","#cacaca","#cbcbcb","#cccccc","#cdcdcd","#cecece","#cfcfcf","#d0d0d0","#d1d1d1","#d2d2d2","#d3d3d3","#d4d4d4","#d5d5d5","#d6d6d6","#d7d7d7","#d8d8d8","#d9d9d9","#dadada","#dbdbdb","#dcdcdc","#dddddd","#dedede","#dfdfdf","#e0e0e0","#e1e1e1","#e2e2e2","#e3e3e3","#e4e4e4","#e5e5e5","#e6e6e6","#e7e7e7","#e8e8e8","#e9e9e9","#eaeaea","#ebebeb","#ececec","#ededed","#eeeeee","#efefef","#f0f0f0","#f1f1f1","#f2f2f2","#f3f3f3","#f4f4f4","#f5f5f5","#f6f6f6","#f7f7f7","#f8f8f8","#f9f9f9","#fafafa","#fbfbfb","#fcfcfc","#fdfdfd","#fefefe","#ffffff"]},"id":"1546","type":"LinearColorMapper"},{"attributes":{"data":{"undo":[]},"selected":{"id":"1605"},"selection_policy":{"id":"1606"}},"id":"1544","type":"ColumnDataSource"},{"attributes":{"formatter":{"id":"1601"},"major_label_policy":{"id":"1602"},"ticker":{"id":"1534"},"visible":false},"id":"1533","type":"LinearAxis"},{"attributes":{"args":{"source":{"id":"1543"},"stek_redo":{"id":"1545"},"stek_undo":{"id":"1544"}},"code":"\n                            \n    if (stek_redo.data.redo.length==0) return                        \n                            \n    var arr = source.data.image[0]\n    \n    stek_undo.data.undo.push(arr)\n                                \n    var arr_new = stek_redo.data.redo.pop()\n    \n    source.data.image[0] = arr_new\n    \n    source.change.emit() \n\n"},"id":"1561","type":"CustomJS"},{"attributes":{},"id":"1538","type":"BasicTicker"},{"attributes":{"args":{"source":{"id":"1543"},"stek_redo":{"id":"1545"},"stek_undo":{"id":"1544"}},"code":"\n\n    var arr = source.data.image[0]\n    \n    stek_undo.data.undo.push(arr)\n    stek_redo.data.redo = []\n    \n    //console.log(stek_undo.data.undo.length)\n    \n    var n = arr.length\n    if (n==1) return\n\n    var arr_new = new Array(n-1)\n    for (var i = 0; i &lt; arr_new.length; i++) \n      arr_new[i] = new Array(n-1)\n\n    for (var i=0; i&lt;n-1; i++) \n        for (var j=0; j&lt;n-1; j++) {\n\n            var center = arr[i][j]        \n            var down = arr[i+1][j]        \n            var right = arr[i][j+1]        \n            var diag = arr[i+1][j+1]\n\n            arr_new[i][j] = ((i+1)*(j+1)*diag + (i+1)*(n-j-1)*down + (n-i-1)*(j+1)*right + (n-i-1) * (n-j-1)*center) / (n*n)\n        }\n\n    source.data.image[0] = arr_new\n\n    source.change.emit() \n\n"},"id":"1557","type":"CustomJS"},{"attributes":{"range_padding":0},"id":"1527","type":"DataRange1d"},{"attributes":{"button_type":"primary","icon":null,"js_event_callbacks":{"button_click":[{"id":"1559"}]},"label":"undo","width":40},"id":"1560","type":"Button"},{"attributes":{},"id":"1531","type":"LinearScale"},{"attributes":{},"id":"1529","type":"LinearScale"},{"attributes":{"button_type":"primary","icon":null,"js_event_callbacks":{"button_click":[{"id":"1557"}]},"label":"-","width":100},"id":"1558","type":"Button"},{"attributes":{},"id":"1534","type":"BasicTicker"},{"attributes":{},"id":"1603","type":"Selection"},{"attributes":{"axis":{"id":"1533"},"ticker":null},"id":"1536","type":"Grid"},{"attributes":{},"id":"1604","type":"UnionRenderers"},{"attributes":{"args":{"source":{"id":"1543"},"stek_redo":{"id":"1545"},"stek_undo":{"id":"1544"}},"code":"\n\n    if (stek_undo.data.undo.length==0) return\n    \n    var arr = source.data.image[0]\n    \n    stek_redo.data.redo.push(arr)\n        \n    var arr_new = stek_undo.data.undo.pop()\n    \n    source.data.image[0] = arr_new\n    \n    source.change.emit() \n\n"},"id":"1559","type":"CustomJS"},{"attributes":{"axis":{"id":"1537"},"dimension":1,"ticker":null},"id":"1540","type":"Grid"},{"attributes":{"active_multi":null,"logo":null},"id":"1541","type":"Toolbar"},{"attributes":{"children":[{"id":"1558"},{"id":"1556"},{"id":"1563"}]},"id":"1564","type":"Column"},{"attributes":{},"id":"1605","type":"Selection"},{"attributes":{"data":{"redo":[]},"selected":{"id":"1607"},"selection_policy":{"id":"1608"}},"id":"1545","type":"ColumnDataSource"},{"attributes":{"button_type":"primary","icon":null,"js_event_callbacks":{"button_click":[{"id":"1561"}]},"label":"redo","width":40},"id":"1562","type":"Button"},{"attributes":{},"id":"1606","type":"UnionRenderers"},{"attributes":{},"id":"1607","type":"Selection"},{"attributes":{"children":[{"id":"1560"},{"id":"1562"}]},"id":"1563","type":"Row"},{"attributes":{},"id":"1598","type":"BasicTickFormatter"},{"attributes":{},"id":"1608","type":"UnionRenderers"},{"attributes":{},"id":"1599","type":"AllLabels"},{"attributes":{"children":[{"id":"1524"},{"id":"1564"}]},"id":"1565","type":"Row"}],"root_ids":["1566"]},"title":"Bokeh Application","version":"2.3.1"}}
        </script>
        <script type="text/javascript">
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  var docs_json = document.getElementById('1805').textContent;
                  var render_items = [{"docid":"d3c25175-bca3-4974-9ac5-ecfb447e1a3e","root_ids":["1566"],"roots":{"1566":"9360c36e-3e96-4070-a21b-ce098e681650"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>